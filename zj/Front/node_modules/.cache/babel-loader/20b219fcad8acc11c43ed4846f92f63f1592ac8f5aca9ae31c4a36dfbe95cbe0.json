{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_Source = _resolveComponent(\"Source\");\n  const _component_EditorDemo = _resolveComponent(\"EditorDemo\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_el_row, null, {\n    default: _withCtx(() => [_createVNode(_component_el_col, {\n      span: 2\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        plain: \"\",\n        type: \"primary\",\n        onClick: $options.saveHtmlAndData\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"保存数据&文档\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }), _createVNode(_component_Source, {\n    src: \"/code/SaveDoc.vue\"\n  }), _createVNode(_component_EditorDemo, {\n    onAfterInit: $options.onAfterInit,\n    doc: \"https://www.x-emr.cn/doc/999.html\",\n    style: {\n      \"margin\": \"10px 0\"\n    }\n  }, null, 8 /* PROPS */, [\"onAfterInit\"])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createVNode","_component_el_row","_component_el_col","span","_component_el_button","plain","type","onClick","$options","saveHtmlAndData","_component_Source","src","_component_EditorDemo","onAfterInit","doc","style"],"sources":["/Users/jiezhou/IdeaProjects/graduaction/zj/Front/src/views/SaveDoc.vue"],"sourcesContent":["\n<template>\n    <el-row>\n        <el-col :span=\"2\"> <el-button plain type=\"primary\" @click=\"saveHtmlAndData\">保存数据&文档</el-button></el-col>\n    </el-row>\n    <Source src=\"/code/SaveDoc.vue\"></Source>\n    <EditorDemo @AfterInit=\"onAfterInit\" doc=\"https://www.x-emr.cn/doc/999.html\" style=\"margin: 10px 0;\"></EditorDemo>\n\n</template>\n    \n<script>\n    import axios from 'axios'\n    import EditorDemo from \"@/components/EditorDemo.vue\";\n\n    export default{\n      components: {EditorDemo},\n        data(){\n            return{\n                editor:null,\n                 //服务端地址\n                serverUrl:'http://localhost/post'\n            }\n        },\n        methods:{\n            //初始化前\n            onAfterInit: function(e) {\n                this.editor = e.editor\n            },\n\n            //保存文档及机构化数据\n            saveHtmlAndData: function() {\n                let data = {\n                    'doc': this.editor.getHtml(),\n                    'data': this.editor.getBindObject()\n                }\n\n              const blob = new Blob([data.doc], { type: 'text/html' }); // 指定类型为HTML\n\n              // 创建一个下载链接\n              const url = window.URL.createObjectURL(blob);\n\n              // 创建一个链接元素\n              const link = document.createElement('a');\n              link.href = url;\n\n              // 设置文件名为doc.html\n              link.setAttribute('download', 'res.doc');\n\n              // 将链接元素添加到文档中\n              document.body.appendChild(link);\n\n              // 模拟用户点击链接进行下载\n              link.click();\n\n              // 下载完成后释放URL对象\n              window.URL.revokeObjectURL(url);\n            },\n        }\n\n}\n</script>"],"mappings":";;;;;;;6DAEIA,YAAA,CAESC,iBAAA;sBADL,MAAwG,CAAxGD,YAAA,CAAwGE,iBAAA;MAA/FC,IAAI,EAAE;IAAC;wBAAG,MAA4E,CAA5EH,YAAA,CAA4EI,oBAAA;QAAjEC,KAAK,EAAL,EAAK;QAACC,IAAI,EAAC,SAAS;QAAEC,OAAK,EAAEC,QAAA,CAAAC;;0BAAiB,MAAO,C,iBAAP,SAAO,E;;;;;;;MAEvFT,YAAA,CAAyCU,iBAAA;IAAjCC,GAAG,EAAC;EAAmB,IAC/BX,YAAA,CAAkHY,qBAAA;IAArGC,WAAS,EAAEL,QAAA,CAAAK,WAAW;IAAEC,GAAG,EAAC,mCAAmC;IAACC,KAAuB,EAAvB;MAAA;IAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}