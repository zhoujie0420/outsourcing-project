{"ast":null,"code":"import { createRouter, createWebHashHistory } from \"vue-router\";\n// import {showLoadingToast} from \"vant\";\nimport usePeerStore from \"@/store/peer\";\nlet router = createRouter({\n  history: createWebHashHistory(process.env.BASE_URL),\n  routes: [{\n    path: \"/\",\n    component: () => import(\"@/views/MainEntranceView.vue\"),\n    children: [{\n      path: \"/\",\n      redirect: \"/friends-list-view\",\n      meta: {\n        requestAuth: true\n      }\n    }, {\n      path: \"friends-list-view\",\n      component: () => import(\"@/views/FriendsListView.vue\"),\n      meta: {\n        requestAuth: true\n      }\n    }, {\n      path: \"setting-view\",\n      component: () => import(\"@/views/SettingsView.vue\"),\n      meta: {\n        requestAuth: true\n      }\n    }, {\n      path: \"recordList-view\",\n      component: () => import(\"@/views/RecordListView.vue\"),\n      meta: {\n        requestAuth: true\n      }\n    }]\n  }, {\n    path: \"/saveRecord\",\n    component: () => import(\"@/views/SaveDoc.vue\")\n  }, {\n    path: \"/video-call-calling-view\",\n    component: () => import(\"@/views/VideoCallCallingView.vue\"),\n    meta: {\n      requestAuth: true\n    }\n  }, {\n    path: \"/admin-view\",\n    component: () => import(\"@/views/adminView.vue\")\n  }, {\n    path: \"/video-call-answer-view\",\n    component: () => import(\"@/views/VideoCallAnswerView.vue\"),\n    meta: {\n      requestAuth: true\n    }\n  }, {\n    path: \"/login-view\",\n    name: \"login\",\n    component: () => import(\"@/views/LoginView.vue\"),\n    meta: {\n      requestAuth: false\n    }\n  }, {\n    path: \"/register-view\",\n    name: \"register\",\n    component: () => import(\"@/views/RegisterView.vue\"),\n    meta: {\n      requestAuth: false\n    }\n  }]\n});\nrouter.beforeEach((to, from, next) => {\n  const peerStore = usePeerStore();\n  if (to.meta.requestAuth && !peerStore.is_login) {\n    next({\n      name: \"login\"\n    });\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHashHistory","usePeerStore","router","history","process","env","BASE_URL","routes","path","component","children","redirect","meta","requestAuth","name","beforeEach","to","from","next","peerStore","is_login"],"sources":["/Users/jiezhou/IdeaProjects/graduaction/zj/Front/src/router/index.js"],"sourcesContent":["import {createRouter, createWebHashHistory} from \"vue-router\";\n// import {showLoadingToast} from \"vant\";\nimport usePeerStore from \"@/store/peer\";\nlet router = createRouter({\n    history: createWebHashHistory(process.env.BASE_URL),\n    routes: [\n        {\n            path: \"/\",\n            component: () => import(\"@/views/MainEntranceView.vue\"),\n            children: [\n                {\n                    path: \"/\",\n                    redirect: \"/friends-list-view\",\n                    meta: {\n                        requestAuth: true,\n                    }\n                },\n                {\n                    path: \"friends-list-view\",\n                    component: () => import(\"@/views/FriendsListView.vue\"),\n                    meta: {\n                        requestAuth: true,\n                    }\n                },\n                {\n                    path: \"setting-view\",\n                    component: () => import(\"@/views/SettingsView.vue\"),\n                    meta: {\n                        requestAuth: true,\n                    }\n                },\n                {\n                    path: \"recordList-view\",\n                    component: () => import(\"@/views/RecordListView.vue\"),\n                    meta: {\n                        requestAuth: true,\n                    }\n                }\n            ]\n        },\n        {\n            path:\"/saveRecord\",\n            component:()=>import(\"@/views/SaveDoc.vue\"),\n        },\n        {\n            path: \"/video-call-calling-view\",\n            component: () => import(\"@/views/VideoCallCallingView.vue\"),\n            meta: {\n                requestAuth: true,\n            }\n        },\n        {\n            path: \"/admin-view\",\n            component: () => import(\"@/views/adminView.vue\"),\n        },\n        {\n            path: \"/video-call-answer-view\",\n            component: () => import(\"@/views/VideoCallAnswerView.vue\"),\n            meta: {\n                requestAuth: true,\n            }\n        },\n        {\n            path: \"/login-view\",\n            name: \"login\",\n            component: () => import(\"@/views/LoginView.vue\"),\n            meta: {\n                requestAuth: false,\n            }\n        },\n        {\n            path: \"/register-view\",\n            name: \"register\",\n            component: () => import(\"@/views/RegisterView.vue\"),\n            meta: {\n                requestAuth: false,\n            }\n        },\n    ]\n});\n\nrouter.beforeEach((to, from, next) => {\n    const peerStore = usePeerStore();\n    if (to.meta.requestAuth && !peerStore.is_login) {\n        next({name: \"login\"});\n    } else {\n        next();\n    }\n})\n\n\n\n\n\nexport default router;"],"mappings":"AAAA,SAAQA,YAAY,EAAEC,oBAAoB,QAAO,YAAY;AAC7D;AACA,OAAOC,YAAY,MAAM,cAAc;AACvC,IAAIC,MAAM,GAAGH,YAAY,CAAC;EACtBI,OAAO,EAAEH,oBAAoB,CAACI,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EACnDC,MAAM,EAAE,CACJ;IACIC,IAAI,EAAE,GAAG;IACTC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,8BAA8B,CAAC;IACvDC,QAAQ,EAAE,CACN;MACIF,IAAI,EAAE,GAAG;MACTG,QAAQ,EAAE,oBAAoB;MAC9BC,IAAI,EAAE;QACFC,WAAW,EAAE;MACjB;IACJ,CAAC,EACD;MACIL,IAAI,EAAE,mBAAmB;MACzBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,6BAA6B,CAAC;MACtDG,IAAI,EAAE;QACFC,WAAW,EAAE;MACjB;IACJ,CAAC,EACD;MACIL,IAAI,EAAE,cAAc;MACpBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,0BAA0B,CAAC;MACnDG,IAAI,EAAE;QACFC,WAAW,EAAE;MACjB;IACJ,CAAC,EACD;MACIL,IAAI,EAAE,iBAAiB;MACvBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,4BAA4B,CAAC;MACrDG,IAAI,EAAE;QACFC,WAAW,EAAE;MACjB;IACJ,CAAC;EAET,CAAC,EACD;IACIL,IAAI,EAAC,aAAa;IAClBC,SAAS,EAACA,CAAA,KAAI,MAAM,CAAC,qBAAqB;EAC9C,CAAC,EACD;IACID,IAAI,EAAE,0BAA0B;IAChCC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,kCAAkC,CAAC;IAC3DG,IAAI,EAAE;MACFC,WAAW,EAAE;IACjB;EACJ,CAAC,EACD;IACIL,IAAI,EAAE,aAAa;IACnBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,uBAAuB;EACnD,CAAC,EACD;IACID,IAAI,EAAE,yBAAyB;IAC/BC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,iCAAiC,CAAC;IAC1DG,IAAI,EAAE;MACFC,WAAW,EAAE;IACjB;EACJ,CAAC,EACD;IACIL,IAAI,EAAE,aAAa;IACnBM,IAAI,EAAE,OAAO;IACbL,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,uBAAuB,CAAC;IAChDG,IAAI,EAAE;MACFC,WAAW,EAAE;IACjB;EACJ,CAAC,EACD;IACIL,IAAI,EAAE,gBAAgB;IACtBM,IAAI,EAAE,UAAU;IAChBL,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,0BAA0B,CAAC;IACnDG,IAAI,EAAE;MACFC,WAAW,EAAE;IACjB;EACJ,CAAC;AAET,CAAC,CAAC;AAEFX,MAAM,CAACa,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC,MAAMC,SAAS,GAAGlB,YAAY,CAAC,CAAC;EAChC,IAAIe,EAAE,CAACJ,IAAI,CAACC,WAAW,IAAI,CAACM,SAAS,CAACC,QAAQ,EAAE;IAC5CF,IAAI,CAAC;MAACJ,IAAI,EAAE;IAAO,CAAC,CAAC;EACzB,CAAC,MAAM;IACHI,IAAI,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAMF,eAAehB,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}